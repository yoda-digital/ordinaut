# –ö—Ä–∞—Ç–∫–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ

–≠—Ç–æ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø—Ä–æ–≤–µ–¥–µ—Ç –≤–∞—Å —á–µ—Ä–µ–∑ —Å–æ–∑–¥–∞–Ω–∏–µ, –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –ø—Ä–æ–≤–µ—Ä–∫—É –≤–∞—à–µ–≥–æ –ø–µ—Ä–≤–æ–≥–æ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Ä–∞–±–æ—á–µ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞ —Å –ø–æ–º–æ—â—å—é Ordinaut. –ú—ã —Å–æ–∑–¥–∞–¥–∏–º –∑–∞–¥–∞—á—É, –∫–æ—Ç–æ—Ä–∞—è –∑–∞–ø—É—Å–∫–∞–µ—Ç –ø—Ä–æ—Å—Ç–æ–π –∫–æ–Ω–≤–µ–π–µ—Ä –∫–∞–∂–¥—É—é –º–∏–Ω—É—Ç—É.

## –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è: –ó–∞–ø—É—Å–∫ Ordinaut

–ü–µ—Ä–µ–¥ —Å–æ–∑–¥–∞–Ω–∏–µ–º –≤–∞—à–µ–π –ø–µ—Ä–≤–æ–π –∑–∞–¥–∞—á–∏ –≤–∞–º –Ω—É–∂–Ω–∞ —Ä–∞–±–æ—Ç–∞—é—â–∞—è —Å–∏—Å—Ç–µ–º–∞ Ordinaut. –°–∞–º—ã–π –±—ã—Å—Ç—Ä—ã–π —Å–ø–æ—Å–æ–± - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –Ω–∞—à–∏—Ö –≥–æ—Ç–æ–≤—ã—Ö Docker-–æ–±—Ä–∞–∑–æ–≤.

### üöÄ **–ú–≥–Ω–æ–≤–µ–Ω–Ω—ã–π –∑–∞–ø—É—Å–∫ —Å –≥–æ—Ç–æ–≤—ã–º–∏ –æ–±—Ä–∞–∑–∞–º–∏ (–†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø)**

```bash
# –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
git clone https://github.com/yoda-digital/ordinaut.git
cd ordinaut/ops/

# –ó–∞–ø—É—Å–∫ —Å –æ–±—Ä–∞–∑–∞–º–∏ GHCR (–º–≥–Ω–æ–≤–µ–Ω–Ω—ã–π —Å—Ç–∞—Ä—Ç)
./start.sh ghcr --logs

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Å–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç
curl http://localhost:8080/health
```

**‚úÖ –≠—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –≥–æ—Ç–æ–≤—ã–µ –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞ –æ–±—Ä–∞–∑—ã, –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã–µ –≤ GitHub Container Registry!**

**üéâ –°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∑–∞ 30 —Å–µ–∫—É–Ω–¥!**
- üì° **REST API** –Ω–∞ `http://localhost:8080`
- üìä **–ü–∞–Ω–µ–ª—å –∑–¥–æ—Ä–æ–≤—å—è** –Ω–∞ `http://localhost:8080/health`
- üìö **–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** –Ω–∞ `http://localhost:8080/docs`

---

## 1. –û–ø—Ä–µ–¥–µ–ª–∏—Ç–µ –∑–∞–¥–∞—á—É

–°–Ω–∞—á–∞–ª–∞ —Å–æ–∑–¥–∞–π—Ç–µ JSON-—Ñ–∞–π–ª —Å –∏–º–µ–Ω–µ–º `my_first_task.json`. –≠—Ç–æ—Ç —Ñ–∞–π–ª –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –≤—Å–µ –æ –∑–∞–¥–∞—á–µ: –µ–µ –∏–º—è, —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –∏ –∫–æ–Ω–≤–µ–π–µ—Ä –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è.

–≠—Ç–∞ –∑–∞–¥–∞—á–∞ –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞ –Ω–∞ –∑–∞–ø—É—Å–∫ –∫–∞–∂–¥—É—é –º–∏–Ω—É—Ç—É —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –≤—ã—Ä–∞–∂–µ–Ω–∏—è cron. –ö–æ–Ω–≤–µ–π–µ—Ä —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ –¥–≤—É—Ö —à–∞–≥–æ–≤:
1.  –®–∞–≥, –∫–æ—Ç–æ—Ä—ã–π –∏–º–∏—Ç–∏—Ä—É–µ—Ç –ø–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç.
2.  –®–∞–≥, –∫–æ—Ç–æ—Ä—ã–π –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –≤—ã–≤–æ–¥ –ø–µ—Ä–≤–æ–≥–æ —à–∞–≥–∞ –≤ —Å–≤–æ–µ–º —Å–æ–æ–±—â–µ–Ω–∏–∏.

```json
{
  "title": "–ú–æ—è –ø–µ—Ä–≤–∞—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∑–∞–¥–∞—á–∞",
  "description": "–ü—Ä–æ—Å—Ç–∞—è –∑–∞–¥–∞—á–∞, –∫–æ—Ç–æ—Ä–∞—è –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∫–∞–∂–¥—É—é –º–∏–Ω—É—Ç—É.",
  "schedule_kind": "cron",
  "schedule_expr": "* * * * *",
  "timezone": "Europe/Chisinau",
  "payload": {
    "params": {
      "user_name": "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å Ordinaut"
    },
    "pipeline": [
      {
        "id": "get_data",
        "uses": "debug.echo",
        "with": {
          "message": "–ü—Ä–∏–≤–µ—Ç, ${params.user_name}!",
          "details": {
            "timestamp": "${now}"
          }
        },
        "save_as": "greeting"
      },
      {
        "id": "process_data",
        "uses": "debug.log",
        "with": {
          "message": "–®–∞–≥ 1 —Å–∫–∞–∑–∞–ª: '${steps.greeting.message}' –≤ ${steps.greeting.details.timestamp}"
        }
      }
    ]
  },
  "created_by": "00000000-0000-0000-0000-000000000001"
}
```

!!! info "–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤"
    –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã `debug.echo` –∏ `debug.log` ‚Äî —ç—Ç–æ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ —É—Ç–∏–ª–∏—Ç—ã –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è. `debug.echo` –ø—Ä–æ—Å—Ç–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ, –∞ `debug.log` –≤—ã–≤–æ–¥–∏—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ –∂—É—Ä–Ω–∞–ª –≤–æ—Ä–∫–µ—Ä–∞.

## 2. –°–æ–∑–¥–∞–π—Ç–µ –∑–∞–¥–∞—á—É —á–µ—Ä–µ–∑ API

–ö–æ–≥–¥–∞ —Å–µ—Ä–≤–∏—Å—ã Ordinaut –∑–∞–ø—É—â–µ–Ω—ã, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `curl` –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –≤–∞—à–µ–π –∑–∞–¥–∞—á–∏ –≤ API. –≠—Ç–æ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç –∑–∞–¥–∞—á—É –≤ —Å–∏—Å—Ç–µ–º–µ, –∏ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ –µ–µ –ø–æ–¥—Ö–≤–∞—Ç–∏—Ç.

```bash
curl -X POST http://localhost:8080/tasks \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer your-agent-token" \
  -d @my_first_task.json
```

API –æ—Ç–≤–µ—Ç–∏—Ç —É–Ω–∏–∫–∞–ª—å–Ω—ã–º –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–º –≤–∞—à–µ–π –Ω–æ–≤–æ–π –∑–∞–¥–∞—á–∏. **–°–∫–æ–ø–∏—Ä—É–π—Ç–µ —ç—Ç–æ—Ç ID –∑–∞–¥–∞—á–∏** –¥–ª—è —Å–ª–µ–¥—É—é—â–µ–≥–æ —à–∞–≥–∞.

```json
{
  "id": "a1b2c3d4-e5f6-7890-1234-567890abcdef"
}
```

## 3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ

–ü–æ—Å–∫–æ–ª—å–∫—É –∑–∞–¥–∞—á–∞ –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞ –Ω–∞ –∑–∞–ø—É—Å–∫ –∫–∞–∂–¥—É—é –º–∏–Ω—É—Ç—É, –≤—ã –º–æ–∂–µ—Ç–µ –Ω–∞–±–ª—é–¥–∞—Ç—å –∏—Å—Ç–æ—Ä–∏—é –µ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø–æ—á—Ç–∏ —Å—Ä–∞–∑—É.

### –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏—Å—Ç–æ—Ä–∏—é –∑–∞–ø—É—Å–∫–æ–≤

–ü–æ–¥–æ–∂–¥–∏—Ç–µ –º–∏–Ω—É—Ç—É, –∑–∞—Ç–µ–º –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç `runs` –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –∏—Å—Ç–æ—Ä–∏–∏. –ó–∞–º–µ–Ω–∏—Ç–µ `{task-id}` –Ω–∞ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≤–∞–º–∏ ID.

```bash
curl "http://localhost:8080/runs?task_id={task-id}&limit=5"
```

–í—ã —É–≤–∏–¥–∏—Ç–µ –æ—Ç–≤–µ—Ç –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON —Å–æ —Å–ø–∏—Å–∫–æ–º –Ω–µ–¥–∞–≤–Ω–∏—Ö –∑–∞–ø—É—Å–∫–æ–≤. –ò—â–∏—Ç–µ `"success": true`.

```json
{
  "runs": [
    {
      "id": "...",
      "task_id": "a1b2c3d4-e5f6-7890-1234-567890abcdef",
      "started_at": "2025-08-11T12:01:00.123Z",
      "finished_at": "2025-08-11T12:01:00.456Z",
      "success": true,
      "attempt": 1,
      "duration_ms": 333
    }
  ]
}
```

### –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∂—É—Ä–Ω–∞–ª—ã –≤–æ—Ä–∫–µ—Ä–∞

–í—ã —Ç–∞–∫–∂–µ –º–æ–∂–µ—Ç–µ —É–≤–∏–¥–µ—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ –≤ –∂—É—Ä–Ω–∞–ª–∞—Ö –≤–æ—Ä–∫–µ—Ä–∞. –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç `debug.log`, –∫–æ—Ç–æ—Ä—ã–π –º—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ –≤ –∫–æ–Ω–≤–µ–π–µ—Ä–µ, –≤—ã–≤–µ–¥–µ—Ç —Ç—É–¥–∞ —Å–≤–æ–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç.

```bash
docker compose logs -f worker
```

–ö–∞–∂–¥—É—é –º–∏–Ω—É—Ç—É –≤—ã –±—É–¥–µ—Ç–µ –≤–∏–¥–µ—Ç—å —Ç–∞–∫–∏–µ –∑–∞–ø–∏—Å–∏ –≤ –∂—É—Ä–Ω–∞–ª–µ:

```
INFO:root:Executing step: process_data
INFO:root:Step process_data log: Step 1 said: 'Hello, Ordinaut User!' at 2025-08-11T12:01:00.123Z
INFO:root:Task a1b2c3d4-e5f6-7890-1234-567890abcdef completed successfully
```

---

–ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º! –í—ã —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–ª–∏ –∏ –ø—Ä–æ–≤–µ—Ä–∏–ª–∏ –ø–æ–≤—Ç–æ—Ä—è—é—â–∏–π—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ä–∞–±–æ—á–∏–π –ø—Ä–æ—Ü–µ—Å—Å. –¢–µ–ø–µ—Ä—å –≤—ã –º–æ–∂–µ—Ç–µ –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å —ç—Ç–æ—Ç –ø—Ä–æ—Ü–µ—Å—Å –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –±–æ–ª–µ–µ —Å–ª–æ–∂–Ω—ã—Ö –∏ –º–æ—â–Ω—ã—Ö –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–π, –æ–ø—Ä–µ–¥–µ–ª—è—è —Ä–∞–∑–ª–∏—á–Ω—ã–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è –∏ –∫–æ–Ω–≤–µ–π–µ—Ä—ã.
