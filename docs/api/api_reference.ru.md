# Справочник API

REST API Ordinaut является основным интерфейсом для взаимодействия агентов и внешних систем с оркестратором. API построен на FastAPI и предоставляет автоматическую интерактивную документацию.

## Интерактивная документация

Хотя этот справочник предоставляет исчерпывающий обзор, вы также можете использовать интерактивную документацию, генерируемую самим API:

- **Swagger UI:** [http://localhost:8080/docs](http://localhost:8080/docs)
- **ReDoc:** [http://localhost:8080/redoc](http://localhost:8080/redoc)

Эти интерфейсы позволяют вам исследовать и тестировать каждый эндпоинт прямо из вашего браузера.

## Базовый URL

- **Разработка:** `http://localhost:8080`
- **Производство:** `https://api.your-domain.com/v1`

## Общие концепции

### Обработка ошибок

API использует стандартные коды состояния HTTP для обозначения успеха или неудачи запроса. Ответы об ошибках следуют последовательному формату JSON:

```json
{
  "error": "ValidationError",
  "message": "Недопустимое выражение расписания",
  "details": {
    "field": "schedule_expr",
    "value": "неверный cron",
    "expected": "Допустимое выражение cron (например, '0 9 * * 1-5')"
  }
}
```

### Ограничение частоты запросов (Rate Limiting)

Для обеспечения стабильности системы API применяет ограничения по частоте запросов для каждого агента. Если вы превысите лимит, вы получите ответ `429 Too Many Requests`. Проверяйте заголовки `X-RateLimit-Remaining` и `X-RateLimit-Reset` для управления частотой ваших запросов.